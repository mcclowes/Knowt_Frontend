function changeBackground(){bgColorArray=["#0b1b2d","#0d2e11","gray"],document.body.style.backgroundColor=bgColorArray[Math.floor(Math.random()*bgColorArray.length)]}function resize(){text.style.height="auto",text.style.height=text.scrollHeight+"px"}function delayedResize(){window.setTimeout(resize,0)}$(document).ready(changeBackground());var textBoxes=$(".testbox");console.log(textBoxes);var observe;observe=window.attachEvent?function(e,t,o){e.attachEvent("on"+t,o)}:function(e,t,o){e.addEventListener(t,o,!1)},console.log(textBoxes.length);for(var i=0;i<textBoxes.length;i++){console.log(i);var text=textBoxes[i];observe(text,"change",resize),observe(text,"cut",delayedResize),observe(text,"paste",delayedResize),observe(text,"drop",delayedResize),observe(text,"keydown",delayedResize),text.focus(),text.select(),resize()}